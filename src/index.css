@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global reset to eliminate white space */
html, body {
  margin: 0 !important;
  padding: 0 !important;
  height: 100% !important;
  background-color: #111827 !important; /* bg-gray-900 */
}

#root {
  min-height: 100vh !important;
  background-color: #111827 !important; /* bg-gray-900 */
  margin: 0 !important;
  padding: 0 !important;
}

/* Ensure no white space at top */
body > *:first-child {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Brand motions and effects */
@keyframes fade-in-up {
  0% { opacity: 0; transform: translate3d(0, 24px, 0); }
  100% { opacity: 1; transform: translate3d(0, 0, 0); }
}

.animate-fade-in-up {
  animation: fade-in-up 700ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

.perspective-1000 {
  perspective: 1000px;
}

.parallax, .parallax-rotate {
  transform-style: preserve-3d;
}

/* Scroll-driven parallax */
@supports (animation-timeline: scroll()) {
  .parallax {
    animation: parallax-shift linear both;
    animation-timeline: scroll(root);
    animation-range: 0 80vh;
  }
  .parallax-rotate {
    animation: parallax-tilt linear both;
    animation-timeline: scroll(root);
    animation-range: 0 80vh;
  }
}

@keyframes parallax-shift {
  from { transform: translate3d(0, 0, 0); }
  to   { transform: translate3d(0, -60px, 0); }
}

@keyframes parallax-tilt {
  from { transform: rotateX(0deg) rotateY(0deg) translateZ(0); }
  to   { transform: rotateX(6deg) rotateY(-6deg) translateZ(30px); }
}

/* Simple intersection-driven reveal fallback */
.reveal-on-scroll { opacity: 0; transform: translateY(16px); transition: opacity .6s ease, transform .6s ease; }
.reveal-on-scroll.is-visible { opacity: 1; transform: none; }

/* Route/page entrance */
@keyframes page-enter {
  0% { opacity: 0; transform: translate3d(0, 12px, 0); }
  100% { opacity: 1; transform: translate3d(0, 0, 0); }
}
.page-enter {
  animation: page-enter 520ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

/* Enhanced animated mesh background */
.bg-mesh-sheen {
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(99,102,241,0.25), transparent 60%),
    radial-gradient(900px 500px at 110% 10%, rgba(139,92,246,0.22), transparent 60%),
    radial-gradient(700px 400px at 50% 120%, rgba(56,189,248,0.18), transparent 60%);
  animation: mesh-move 18s ease-in-out infinite alternate;
}

@keyframes mesh-move {
  0% { background-position: 0 0, 0 0, 0 0; }
  100% { background-position: 8% -2%, -6% 4%, 4% -8%; }
}

/* Subtle grid overlay */
.bg-grid-soft {
  background-image:
    linear-gradient(rgba(255,255,255,0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.04) 1px, transparent 1px);
  background-size: 24px 24px;
}

/* Floating blob decorations */
.blob-animated {
  position: absolute;
  width: 28rem;
  height: 28rem;
  border-radius: 9999px;
  filter: blur(40px);
  background: radial-gradient(circle at 30% 30%, rgba(168,85,247,0.35), transparent 60%),
              radial-gradient(circle at 70% 70%, rgba(59,130,246,0.3), transparent 60%);
  animation: blob-float 16s ease-in-out infinite alternate;
}

@keyframes blob-float {
  0% { transform: translate3d(0, 0, 0) scale(1); }
  100% { transform: translate3d(20px, -30px, 0) scale(1.05); }
}

/* Parallax helpers */
.scrolly { will-change: transform; }

/* Hero visual enhancements */
.float-slow {
  animation: float-slow 6s ease-in-out infinite alternate;
}
.float-slow.delay-1 { animation-delay: 0.6s; }
.float-slow.delay-2 { animation-delay: 1.2s; }
@keyframes float-slow {
  0% { transform: translate3d(0, 0, 0); }
  100% { transform: translate3d(0, -12px, 0); }
}

.tilt-effect { transition: transform 400ms cubic-bezier(0.22, 1, 0.36, 1), box-shadow 400ms; transform-style: preserve-3d; }
.tilt-effect:hover { transform: perspective(1000px) rotateX(4deg) rotateY(-4deg) translateZ(6px); box-shadow: 0 24px 60px rgba(0,0,0,0.35); }

.gradient-beam { position: absolute; inset: auto 0 0 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(168,85,247,.6), rgba(59,130,246,.6), transparent); filter: blur(0.5px); animation: beam-move 8s linear infinite; }
.gradient-beam.top { inset: 0 0 auto 0; }
@keyframes beam-move { from { transform: translateX(-50%); } to { transform: translateX(50%); } }

.orbit { position: absolute; inset: 0; pointer-events: none; }
.orbit .dot { position: absolute; top: 50%; left: 50%; width: 10px; height: 10px; border-radius: 9999px; background: linear-gradient(180deg, #a855f7, #3b82f6); box-shadow: 0 0 20px rgba(99,102,241,0.5); }
.orbit .ring { position: absolute; inset: 0; border-radius: 9999px; border: 1px dashed rgba(255,255,255,0.08); animation: orbit-rot 18s linear infinite; }
.orbit .ring.slow { animation-duration: 28s; }
@keyframes orbit-rot { from { transform: rotate(0); } to { transform: rotate(360deg); } }

/* Entrance and clipping effects */
@keyframes slide-in-right { from { opacity: 0; transform: translateX(24px); } to { opacity: 1; transform: none; } }
.animate-slide-in-right { animation: slide-in-right 700ms cubic-bezier(0.22,1,0.36,1) both; }

@keyframes zoom-in { from { opacity: 0; transform: scale(0.94); } to { opacity: 1; transform: scale(1); } }
.animate-zoom-in { animation: zoom-in 600ms cubic-bezier(0.2,0.8,0.2,1) both; }

/* Clip card with reflective sweep and clip-path animation */
.clip-card {
  position: relative;
  overflow: hidden;
  border-radius: 0.75rem;
  border: 1px solid rgba(255,255,255,0.08);
  background: #374151;
}
.clip-card .media { position: relative; aspect-ratio: 16/9; background-size: cover; background-position: center; clip-path: inset(0 0 0 0); animation: clip-reveal 1400ms ease both; }
@keyframes clip-reveal { 0% { clip-path: inset(0 0 100% 0); } 100% { clip-path: inset(0 0 0 0); } }
.clip-card .shine { position: absolute; inset: 0; background: linear-gradient(110deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.18) 50%, rgba(255,255,255,0) 60%); transform: translateX(-100%); animation: shine-move 2.4s ease-in-out infinite; }
@keyframes shine-move { from { transform: translateX(-120%); } to { transform: translateX(120%); } }

/* Scissor icon travel */
.scissor-anim { position: absolute; bottom: 0.5rem; left: 0.5rem; animation: scissor-move 2.8s ease-in-out infinite; }
@keyframes scissor-move { 0% { transform: translateX(0); opacity: .9; } 50% { transform: translateX(60%); opacity: 1; } 100% { transform: translateX(0); opacity: .9; } }

/* Typewriter caret */
.caret {
  display: inline-block;
  width: 1px;
  height: 1em;
  background: currentColor;
  margin-left: 2px;
  animation: caret-blink 1s steps(2, start) infinite;
  vertical-align: -2px;
}
@keyframes caret-blink { to { visibility: hidden; } }

/* Pulsing radial spotlight for hero */
.radial-pulse {
  position: absolute;
  inset: -20%;
  pointer-events: none;
  background:
    radial-gradient(700px 350px at 50% 28%, rgba(168,85,247,0.22), transparent 60%),
    radial-gradient(560px 280px at 50% 64%, rgba(59,130,246,0.18), transparent 60%);
  filter: blur(12px);
  animation: pulse-spot 6.5s ease-in-out infinite;
}
@keyframes pulse-spot {
  0% { opacity: .14; transform: scale(1); }
  50% { opacity: .24; transform: scale(1.06); }
  100% { opacity: .14; transform: scale(1); }
}

/* Gentle vertical bounce */
@keyframes bounce-y {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}
.animate-bounce-y { animation: bounce-y 1.6s ease-in-out infinite; }

/* Subtle marquee-like sway for cards */
@keyframes sway-x {
  0% { transform: translateX(0); }
  50% { transform: translateX(-12px); }
  100% { transform: translateX(0); }
}
@keyframes sway-x-alt {
  0% { transform: translateX(0); }
  50% { transform: translateX(12px); }
  100% { transform: translateX(0); }
}
.sway-x { will-change: transform; animation: sway-x 8s ease-in-out infinite; }
.sway-x-alt { will-change: transform; animation: sway-x-alt 8s ease-in-out infinite; }

/* True marquee (continuous horizontal loop) */
.marquee { overflow: hidden; }
.marquee-track {
  display: flex;
  gap: 1.5rem;
  width: max-content;
  will-change: transform;
  animation: marquee-move 28s linear infinite;
}
.marquee-track.fast { animation-duration: 22s; }
.marquee-track.slow { animation-duration: 36s; }
@keyframes marquee-move {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* Responsive utilities */
@layer utilities {
  /* Mobile-first responsive text sizes */
  .text-responsive-xs { @apply text-xs sm:text-sm; }
  .text-responsive-sm { @apply text-sm sm:text-base; }
  .text-responsive-base { @apply text-base sm:text-lg; }
  .text-responsive-lg { @apply text-lg sm:text-xl; }
  .text-responsive-xl { @apply text-xl sm:text-2xl; }
  .text-responsive-2xl { @apply text-2xl sm:text-3xl; }
  
  /* Mobile-first responsive spacing */
  .p-responsive { @apply p-3 sm:p-4 md:p-6; }
  .px-responsive { @apply px-3 sm:px-4 md:px-6; }
  .py-responsive { @apply py-3 sm:py-4 md:py-6; }
  .m-responsive { @apply m-3 sm:m-4 md:m-6; }
  .mx-responsive { @apply mx-3 sm:mx-4 md:mx-6; }
  .my-responsive { @apply my-3 sm:my-4 md:my-6; }
  
  /* Mobile-first responsive gaps */
  .gap-responsive { @apply gap-3 sm:gap-4 md:gap-6; }
  .space-y-responsive { @apply space-y-3 sm:space-y-4 md:space-y-6; }
  
  /* Mobile-first responsive grid columns */
  .grid-responsive-1 { @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3; }
  .grid-responsive-2 { @apply grid-cols-1 md:grid-cols-2 lg:grid-cols-4; }
  .grid-responsive-3 { @apply grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5; }
}

/* Mobile-specific optimizations */
@media (max-width: 640px) {
  /* Reduce animation complexity on mobile for better performance */
  .blob-animated {
    animation: none;
    opacity: 0.3;
  }
  
  /* Simplify parallax on mobile */
  .parallax, .parallax-rotate {
    animation: none;
    transform: none;
  }
  
  /* Optimize marquee for mobile */
  .marquee-track {
    animation-duration: 20s;
  }
  
  /* Reduce blur effects on mobile */
  .bg-mesh-sheen {
    filter: blur(2px);
  }
}

/* Touch-friendly interactions */
@media (hover: none) and (pointer: coarse) {
  /* Increase touch targets */
  button, a, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Reduce hover effects on touch devices */
  .hover\:scale-105:hover {
    transform: none;
  }
  
  .hover\:shadow-lg:hover {
    box-shadow: none;
  }
}

/* Mobile Top Navigation */
@media (max-width: 768px) {
  /* Remove body padding to eliminate white space */
  body {
    padding-top: 0;
  }
  
  /* Ensure main content has proper spacing from top navigation */
  main {
    margin-top: 8rem; /* 128px - space for top navigation bar */
    padding-top: 0.5rem;
  }
  
  /* Add extra spacing for the first content element */
  main > div:first-child {
    margin-top: 0.5rem;
  }
}

/* Mobile Menu Overlay */
.mobile-menu-overlay {
  backdrop-filter: blur(8px);
}

/* Top Navigation Bar */
.top-nav {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

/* Floating Action Button */
.floating-menu-btn {
  box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
}

.floating-menu-btn:hover {
  box-shadow: 0 6px 25px rgba(139, 92, 246, 0.6);
}

/* Ensure proper z-index stacking */
.z-top-nav { z-index: 50; }
.z-mobile-menu { z-index: 50; }
.z-main-content { z-index: 1; }

/* Fixed Sidebar Layout */
.fixed-sidebar {
  z-index: 40;
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  overflow: hidden;
}

/* Main content with fixed sidebar */
.main-with-sidebar {
  margin-left: 16rem; /* 256px - matches sidebar width */
}

/* Ensure main content scrolls independently */
.main-scrollable {
  min-height: 100vh;
  overflow-x: hidden;
}

/* Mobile-specific layout adjustments */
@media (max-width: 640px) {
  /* Increase left margin for main content to avoid sidebar button overlap */
  .ml-20 {
    margin-left: 5rem; /* 80px - extra space for sidebar button */
  }
  
  /* Ensure sidebar button doesn't interfere with content */
  .fixed.top-4.left-4 {
    z-index: 9999 !important;
  }
  
  /* Additional mobile spacing */
  .ml-20 {
    margin-left: 6rem; /* 96px - even more space on very small screens */
  }
}
